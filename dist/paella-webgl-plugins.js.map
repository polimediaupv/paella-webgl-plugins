{"version":3,"file":"paella-webgl-plugins.js","mappings":"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","sources":["webpack://paella-webgl-plugins/webpack/universalModuleDefinition","webpack://paella-webgl-plugins/./src/plugins/WebGLPluginModule.js","webpack://paella-webgl-plugins/./src/js/WebGLCanvas.js","webpack://paella-webgl-plugins/./src/js/Shader.js","webpack://paella-webgl-plugins/./src/js/SceneObject.js","webpack://paella-webgl-plugins/./src/js/VideoTexture.js","webpack://paella-webgl-plugins/./src/js/primitives.js","webpack://paella-webgl-plugins/./src/js/math/constants.js","webpack://paella-webgl-plugins/./src/js/math/functions.js","webpack://paella-webgl-plugins/./src/js/math/Vec.js","webpack://paella-webgl-plugins/./src/js/math/Mat3.js","webpack://paella-webgl-plugins/./src/js/math/Mat4.js","webpack://paella-webgl-plugins/./src/plugins/es.upv.paella.video360Canvas.js","webpack://paella-webgl-plugins/./src/plugins/ sync \\.js","webpack://paella-webgl-plugins/external umd {\"commonjs\":\"paella-core\",\"commonjs2\":\"paella-core\",\"amd\":\"paella-core\"}","webpack://paella-webgl-plugins/webpack/bootstrap","webpack://paella-webgl-plugins/webpack/runtime/define property getters","webpack://paella-webgl-plugins/webpack/runtime/hasOwnProperty shorthand","webpack://paella-webgl-plugins/webpack/runtime/make namespace object","webpack://paella-webgl-plugins/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"paella-core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"paella-core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"paella-webgl-plugins\"] = factory(require(\"paella-core\"));\n\telse\n\t\troot[\"paella-webgl-plugins\"] = factory(root[undefined]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__995__) => {\nreturn ","import { PluginModule } from \"paella-core\";\nimport packageData from \"../../package.json\";\n\nlet g_pluginModule = null;\n\nexport default class WebGLPluginsModule extends PluginModule {\n    static Get() {\n        if (!g_pluginModule) {\n            g_pluginModule = new WebGLPluginsModule();\n        }\n        return g_pluginModule;\n    }\n\n    get moduleName() {\n        return \"paella-webgl-plugins\";\n    }\n\n    get moduleVersion() {\n        return packageData.version;\n    }\n}","\nexport default class WebGLCanvas {\n    constructor(canvas) {\n        this.gl = canvas.getContext(\"webgl\");\n\n        if (this.gl === null) {\n            throw new Error(\"This browser does not support WebGL\");\n        }\n    }\n    \n    async init({ clearColor = [0, 0, 0, 1] } = {}) {\n        const gl = this.gl; \n        gl.enable(gl.DEPTH_TEST);\n        gl.clearColor(...clearColor);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    }\n}","\nconst defaultVertex = `\n\nattribute vec4 inVertexPos;\n\nvoid main() {\n    gl_Position = inVertexPos;\n}\n`;\n\nconst defaultFragment = `\nvoid main() {\n    gl_FragColor = vec4(1.0, 0.5, 1.0, 1.0);\n}\n`;\n\nconst loadShader = (gl, type, source) => {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        console.error(`Error compiling shdaer: \\n${gl.getShaderInfoLog(shader)}`);\n    }\n    return shader;\n}\n\nexport default class Shader {\n    constructor(gl, { vertex = defaultVertex, fragment = defaultFragment, attribs = [], uniforms = [] }) {\n        this.gl = gl;\n        const vShader = loadShader(gl, gl.VERTEX_SHADER, vertex);\n        const fShader = loadShader(gl, gl.FRAGMENT_SHADER, fragment);\n\n        const shaderProgram = gl.createProgram();\n        gl.attachShader(shaderProgram, vShader);\n        gl.attachShader(shaderProgram, fShader);\n        gl.linkProgram(shaderProgram);\n\n        if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n            console.error(`Unable to initialize shader program: ${gl.getProgramInfoLog(shaderProgram)}`);\n        }\n\n        gl.deleteShader(vShader);\n        gl.deleteShader(fShader);\n        this._shaderProgram = shaderProgram;\n\n        this.attribs = {};\n        attribs.forEach(attrib => {\n            this.attribs[attrib] = gl.getAttribLocation(shaderProgram, attrib);\n            if (this.attribs[attrib] == -1) {\n                console.warn(`Attribute not found in shader: '${attrib}'`);\n            }\n        });\n\n\n        this.uniforms = {};\n        uniforms.forEach(uniform => {\n            this.uniforms[uniform] = gl.getUniformLocation(shaderProgram, uniform);\n            if (this.uniforms[uniform] === null) {\n                console.warn(`Uniform not found in shader: ${uniform}`);\n            }\n        });\n    }\n\n    useProgram() {\n        this.gl.useProgram(this._shaderProgram);\n    }\n\n    enablePositionArray(attribName, vertexBuffer) {\n        vertexBuffer.bindPositions();\n        this.enableArray(attribName, 3);\n    }\n\n    enableTexCoordArray(attribName, vertexBuffer) {\n        vertexBuffer.bindTexCoord();\n        this.enableArray(attribName, 2);\n    }\n\n    enableArray(attribName, numComponents) {\n        const { gl } = this;\n        gl.enableVertexAttribArray(this.attribs[attribName]);\n        gl.vertexAttribPointer(this.attribs[attribName], numComponents, gl.FLOAT, false, 0, 0);\n    }\n\n    bindTexture(uniformName, texture) {\n        const { gl } = this;\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.uniform1i(this.uniforms[uniformName], 0);\n    }\n\n    bindFloat(uniformName, value) {\n        this.gl.uniform1f(this.uniforms[uniformName], value);\n    }\n\n    bindMatrix4(uniformName, value) {\n        this.gl.uniformMatrix4fv(this.uniforms[uniformName], false, value);\n    }\n}","\nfunction createVertexBuffer(gl, vertexData) {\n    const result = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, result);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertexData), gl.STATIC_DRAW);\n    return result;\n}\n\nfunction createIndexBuffer(gl, indexData) {\n    const result = gl.createBuffer();\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, result);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexData), gl.STATIC_DRAW);\n    return result;\n}\n\nexport default class SceneObject {\n    constructor(gl, position, texCoord, index) {\n        this.gl = gl;\n        this.positionArray = position;\n        this.positionBuffer = createVertexBuffer(gl, position);\n        this.texCoordArray = texCoord;\n        this.texCoordBuffer = createVertexBuffer(gl, texCoord);\n        this.indexArray = index;\n        this.indexBuffer = createIndexBuffer(gl, index);\n    }\n\n    bindPositions() {\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n    }\n\n    bindTexCoord() {\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.texCoordBuffer);\n    }\n\n    draw() {\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n        this.gl.drawElements(this.gl.TRIANGLES, this.indexArray.length, this.gl.UNSIGNED_SHORT, 0);\n    }\n}","\n\nexport default class VideoTexture {\n    constructor(gl, video) {\n        this.gl = gl;\n        this.video = video;\n        this.texture = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n\n        const pixel = new Uint8Array([0, 0, 255, 255]);\n        gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,1,1,0,gl.RGBA,gl.UNSIGNED_BYTE,pixel);\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    }\n\n    updateTexture() {\n        const { gl } = this;\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.video);\n    }\n}","\nexport const TWO_PI = Math.PI * 2;\n\nexport const QUARTER_TURN = Math.PI / 2;\n\nexport function latLngToCartesian([radius, lat, lng]){\n\tlng = -lng + Math.PI / 2;\n\treturn [\n\t\tradius * Math.cos(lat) * Math.cos(lng),\n\t\tradius * Math.sin(lat),\n\t\tradius * -Math.cos(lat) * Math.sin(lng),\n\t];\n}\n\nexport function inverseLerp(start, end, value) {\n\treturn (value - start) / (end - start);\n}\n\n\nexport function createSphere(density){\n\tconst radsPerUnit = Math.PI / density;\n\tconst sliceVertCount = density * 2;\n\n\t//positions and UVs\n\tconst positions = [];\n\tconst uvs = [];\n\tlet latitude = -Math.PI / 2;\n\t//latitude\n\tfor(let i = 0; i <= density; i++){\n\t\tconst v = inverseLerp(-QUARTER_TURN, QUARTER_TURN, -latitude);\n\t\tlet longitude = 0;\n\t\tlet vertLength = sliceVertCount + ((i > 0 && i < density) ? 1 : 0); //middle rings need extra vert for end U value\n\t\t//longitude\n\t\tfor (let j = 0; j < vertLength; j++) {\n\t\t\tpositions.push(latLngToCartesian([1, latitude, longitude]));\n\t\t\tuvs.push([inverseLerp(0, TWO_PI, longitude), v]);\n\t\t\tlongitude += radsPerUnit;\n\t\t}\n\t\tlatitude += radsPerUnit;\n\t}\n\n\t//colors\n\tconst colors = [];\n\tfor(let i = 0; i < positions.length; i++){\n\t\tcolors.push([1, 1, 0]);\n\t}\n\n\t//triangles\n\tconst triangles = [];\n\tlet ringStartP = 0;\n\tfor(let ring = 0; ring < density; ring++){ // start at first ring\n\t\tconst vertexBump = (ring > 0 ? 1 : 0);\n\t\tfor (let sliceVert = 0; sliceVert < sliceVertCount; sliceVert++){\n\t\t\tconst thisP = ringStartP + sliceVert;\n\t\t\tconst nextP = ringStartP + sliceVert + 1;\n\t\t\tconst nextRingP = thisP + sliceVertCount + vertexBump;\n\t\t\tconst nextRingNextP = nextP + sliceVertCount + vertexBump;\n\n\t\t\tif(ring === 0){\n\t\t\t\ttriangles.push([thisP, nextRingNextP, nextRingP]);\n\t\t\t}\n\t\t\tif(ring === density - 1){\n\t\t\t\ttriangles.push([thisP, nextP, nextRingP]);\n\t\t\t}\n\t\t\tif(ring > 0 && ring < density - 1 && density > 2){\n\t\t\t\ttriangles.push([thisP, nextRingNextP, nextRingP])\n\t\t\t\ttriangles.push([thisP, nextP, nextRingNextP])\n\t\t\t}\n\t\t}\n\t\tif(ring === 0){\n\t\t\tringStartP += sliceVertCount;\n\t\t} else {\n\t\t\tringStartP += sliceVertCount + 1;\n\t\t}\n\t}\n\n\n\treturn {\n\t\tpositions: positions.flat(),\n\t\tcolors: colors.flat(),\n\t\ttriangles: triangles.flat(),\n\t\tuvs: uvs.flat(),\n\t\tnormals: positions.flat()\n\t};\n}","/*\n    Extracted from bg2 engine source code: https://github.com/ferserc1/bg2e-js.git\n    file: bg2e/math/constants.js\n */\nexport const Axis = {\n\tNONE: 0,\n\tX: 1,\n\tY: 2,\n\tZ: 3,\n    name: (axis) => {\n        switch (axis) {\n        case Axis.NONE:\n            return \"NONE\";\n        case Axis.X:\n            return \"X\";\n        case Axis.Y:\n            return \"Y\";\n        case Axis.Z:\n            return \"Z\";\n        case Axis.W:\n            return \"W\";\n        default:\n            return \"UNKNOWN\"\n        };\n    }\n};\n\nexport const PI = 3.141592653589793;\nexport const DEG_TO_RAD = 0.01745329251994;\nexport const RAD_TO_DEG = 57.29577951308233;\nexport const PI_2 = 1.5707963267948966;\nexport const PI_4 = 0.785398163397448;\nexport const PI_8 = 0.392699081698724;\nexport const TWO_PI = 6.283185307179586;\nexport const EPSILON = 0.0000001;\n\n// Default array: 32 bits\nexport const NumericArray = Float32Array;\nexport const NumericArrayHighP = Float64Array;\nexport const FLOAT_MAX = 3.402823e38;\n","/*\n    Extracted from bg2 engine source code: https://github.com/ferserc1/bg2e-js.git\n    file: bg2e/math/functions.js\n */\n\nimport {\n    EPSILON,\n    DEG_TO_RAD,\n    RAD_TO_DEG\n} from './constants.js';\n\nlet s_bg_math_seed = Date.now();\n\nexport const checkPowerOfTwo = (n) => {\n    if (typeof n !== 'number') {\n        return false;\n    }\n    else {\n        return n && (n & (n - 1)) === 0;\n    }  \n}\n\nexport const checkZero = (v) => {\n    return v>-EPSILON && v<EPSILON ? 0:v;\n}\n\nexport const isZero = (v) => {\n    return checkZero(v) === 0;\n}\n\nexport const equals = (a,b) => {\n    return Math.abs(a - b) < EPSILON;\n}\n\nexport const degreesToRadians = (d) => {\n    return Math.fround(checkZero(d * DEG_TO_RAD));\n}\n\nexport const radiansToDegrees = (r) => {\n    return Math.fround(checkZero(r * RAD_TO_DEG));\n}\n\nexport const sin = (val) => {\n    return Math.fround(checkZero(Math.sin(val)));\n}\n\nexport const cos = (val) => {\n    return Math.fround(checkZero(Math.cos(val)));\n}\n\nexport const tan = (val) => {\n    return Math.fround(checkZero(Math.tan(val)));\n}\n\nexport const cotan = (val) => {\n    return Math.fround(checkZero(1.0 / tan(val)));\n}\n\nexport const atan = (val) => {\n    return Math.fround(checkZero(Math.atan(val)));\n}\n\nexport const atan2 = (i, j) => {\n    return Math.fround(checkZero(Math.atan2f(i, j)));\n}\n\nexport const random = () => {\n    return Math.random();\n}\n\nexport const seededRandom = () => {\n    const max = 1;\n    const min = 0;\n \n    s_bg_math_seed = (s_bg_math_seed * 9301 + 49297) % 233280;\n    const rnd = s_bg_math_seed / 233280;\n \n    return min + rnd * (max - min);\n}\n\nexport const max = (a,b) => {\n    return Math.fround(Math.max(a,b));\n}\n\nexport const min = (a,b) => {\n    return Math.fround(Math.min(a,b));\n}\n\nexport const abs = (val) => {\n    return Math.fround(Math.abs(val));\n}\n\nexport const sqrt = (val) => {\n    return Math.fround(Math.sqrt(val));\n}\n\nexport const lerp = (from, to, t) => {\n    return Math.fround((1.0 - t) * from + t * to);\n}\n\nexport const square = (n) => {\n    return Math.fround(n * n);\n}\n","/*\n    Extracted from bg2 engine source code: https://github.com/ferserc1/bg2e-js.git\n    file: bg2e/math/Vec.js\n */\n\nimport { NumericArray } from \"./constants\";\nimport { isZero, equals } from \"./functions\";\n\nconst checkEqualLength = (v1,v2) => {\n    if (v1.length!=v2.length) throw new Error(`Invalid vector length in operation`);\n}\n\nexport default class Vec extends NumericArray {\n    constructor() {\n        switch (arguments.length) {\n        case 0:\n            super([0, 0]);\n            break;\n        case 1:\n            if (arguments[0].length>1 && arguments[0].length<5)\n            {\n                super(arguments[0]);\n            }\n            break;\n        case 2:\n            if (arguments[0].length === 2 && typeof(arguments[1]) === \"number\"\n            ) {\n                super([ arguments[0][0], arguments[0][1], arguments[1]]);\n            }\n            else if (arguments[0].length === 3 &&\n                typeof(arguments[1]) === \"number\"\n            ) {\n                super([ arguments[0][0], arguments[0][1], arguments[0][2], arguments[1]]);\n            }\n            else if (typeof(arguments[0]) === \"number\" &&\n                typeof(arguments[1]) === \"number\"\n            ) {\n                super([arguments[0],arguments[1]]);\n            }\n            break;\n        case 3:\n            if (arguments[0].length === 2 &&\n                typeof(arguments[1]) === \"number\" && typeof(arguments[2]) === \"number\"\n            ) {\n                super([ arguments[0][0], arguments[0][1], arguments[1], arguments[2]])\n            }\n            else if (typeof(arguments[0]) === \"number\" &&\n                typeof(arguments[1]) === \"number\" &&\n                typeof(arguments[2]) === \"number\"\n            ) {\n                super([arguments[0],arguments[1],arguments[2]]);\n            }\n            break;\n        case 4:\n            super([arguments[0],arguments[1],arguments[2],arguments[3]]);\n            break;\n        default:\n            throw new Error(`Invalid parameters in Vec constructor`);\n        }\n    }\n\n    normalize() {\n        const m = Vec.Magnitude(this);\n        switch (this.length) {\n        case 4:\n            this[3] = this[3] / m;\n        case 3:\n            this[2] = this[2] / m;\n        case 2:\n            this[1] = this[1] / m;            \n            this[0] = this[0] / m;\n            break;\n        default:\n            throw new Error(`Invalid vector size: ${ this.length }`);\n        }\n        return this;\n    }\n\n    assign(src) {\n        checkEqualLength(this,src);\n        switch (this.length) {\n        case 4:\n            this[3] = src[3];\n        case 3:\n            this[2] = src[2];\n        case 2:\n            this[1] = src[1];\n            this[0] = src[0];\n            break;\n        default:\n            throw new Error(`Invalid vector size: ${ this.length }`);\n        }\n    }\n\n    set(x, y, z = null, w = null) {\n        if (this.length === 2) {\n            this[0] = x;\n            this[1] = y;\n        }\n        else if (this.length === 3 && z !== null) {\n            this[0] = x;\n            this[1] = y;\n            this[2] = z;\n        }\n        else if (this.length === 4 && w !== null) {\n            this[0] = x;\n            this[1] = y;\n            this[2] = z;\n            this[3] = w;\n        }\n        else {\n            throw new Error(`Invalid vector size: ${ this.length }. Trying to set x=${x}, y=${y}, z=${z}, w=${w}`);\n        }\n    }\n\n    scale(s) {\n        switch (this.length) {\n        case 4:\n            this[3] = this[3] * s;\n        case 3:\n            this[2] = this[2] * s;\n        case 2:\n            this[1] = this[1] * s;\n            this[0] = this[0] * s;\n            break;\n        default:\n            throw new Error(`Invalid vector size: ${ v.length }`);\n        }\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    get w() {\n        return this[3];\n    }\n\n    set x(v) {\n        this[0] = v;\n        return this;\n    }\n\n    set y(v) {\n        this[1] = v;\n        return this;\n    }\n\n    set z(v) {\n        this[2] = v;\n        return this;\n    }\n\n    set w(v) {\n        this[3] = v;\n        return this;\n    }\n\n    get r() {\n        return this[0];\n    }\n\n    get g() {\n        return this[1];\n    }\n\n    get b() {\n        return this[2];\n    }\n\n    get a() {\n        return this[3];\n    }\n\n    set r(v) {\n        this[0] = v;\n        return this;\n    }\n\n    set g(v) {\n        this[1] = v;\n        return this;\n    }\n\n    set b(v) {\n        this[2] = v;\n        return this;\n    }\n\n    set a(v) {\n        this[3] = v;\n        return this;\n    }\n\n    get width() {\n        switch (this.length) {\n        case 2:\n            return this[0];\n        case 4:\n            return this[2];\n        default:\n            throw new Error(\"Vec.width function used on non size or viewport vectors (two or four elements)\");\n        }\n    }\n\n    get height() {\n        switch (this.length) {\n            case 2:\n                return this[1];\n            case 4:\n                return this[3];\n            default:\n                throw new Error(\"Vec.width function used on non size or viewport vectors (two or four elements)\");\n            }\n    }\n\n    set width(w) {\n        this[0] = w;\n        return this;\n    }\n\n    set height(h) {\n        this[1] = h;\n        return this;\n    }\n    \n    get xy() {\n        switch (this.length) {\n        case 2:\n            return new Vec(this);\n        case 3:\n        case 4:\n            return new Vec(this[0], this[1]);\n        default:\n            throw new Error(`Invalid vector size: ${ this.length }`);\n        }\n    }\n\n    get xz() {\n        switch (this.length) {\n        case 3:\n        case 4:\n            return new Vec(this[0], this[2]);\n        case 2:\n        default:\n            throw new Error(`Invalid vector size: ${ this.length }`);\n        }\n    }\n\n    get yz() {\n        switch (this.length) {\n        case 3:\n        case 4:\n            return new Vec(this[1], this[2]);\n        case 2:\n        default:\n            throw new Error(`Invalid vector size: ${ this.length }`);\n        }\n    }\n\n    set xy(v) {\n        this[0] = v[0];\n        this[1] = v[1];\n        return this;\n    }\n\n    set xz(v) {\n        if (this.length<3) {\n            throw new Error('Invalid vector size');\n        }\n        this[0] = v[0];\n        this[2] = v[1];\n        return this;\n    }\n\n    set yz(v) {\n        if (this.length<3) {\n            throw new Error('Invalid vector size');\n        }\n        this[1] = v[0];\n        this[2] = v[1];\n        return this;\n    }\n\n    get xyz() {\n        if (this.length < 3) {\n            throw new Error(`Invalid vector size: ${ this.length }`);\n        }\n        return new Vec(this[0], this[1], this[2]);\n    }\n\n    set xyz(v) {\n        if (v.length<3 || this.length<3) {\n            throw new Error(`Invalid vector size to set: l;${ this.length }, r:${v.length}`);\n        }\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        return this;\n    }\n\n    // Copy operator\n    get xyzw() {\n        if (this.length < 4) {\n            throw new Error(`Invalid vector size: ${ this.length }, 4 required`);\n        }\n        return new Vec(this[0], this[1], this[2], this[3]);\n    }\n\n    // Assign operator\n    set xyzw(v) {\n        if (this.length < 4 || v.length<4) {\n            throw new Error(`Invalid vector size to set: l;${ this.length }, r:${v.length}`);\n        }\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        this[3] = v[3];\n        return this;\n    }\n\n    get rgb() {\n        if (this.length < 3) {\n            throw new Error(`Invalid vector size: ${this.length}, but at least 3 required`);\n        }\n        return new Vec(this[0],this[1],this[2]);\n    }\n\n    set rgb(v) {\n        if (v.length<3 || this.length<3) {\n            throw new Error(`Invalid vector size to set: l;${ this.length }, r:${v.length}`);\n        }\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        return this;\n    }\n\n    get rg() {\n        if (v.length<3 || this.length<3) {\n            throw new Error(`Invalid vector size to set: l;${ this.length }, r:${v.length}`);\n        }\n        return new Vec(this[0], this[1]);\n    }\n\n    get gb() {\n        if (v.length<3 || this.length<3) {\n            throw new Error(`Invalid vector size to set: l;${ this.length }, r:${v.length}`);\n        }\n        return new Vec(this[1], this[2]);\n    }\n\n    get rb() {\n        if (v.length<3 || this.length<3) {\n            throw new Error(`Invalid vector size to set: l;${ this.length }, r:${v.length}`);\n        }\n        return new Vec(this[0], this[2]);\n    }\n\n    get hexColor() {\n        const r = Math.round(this.r * 255);\n        const g = Math.round(this.g * 255);\n        const b = Math.round(this.b * 255);\n        const hex = (color) => color.toString(16).toUpperCase();\n        return `#${ hex(r) }${ hex(g) }${ hex(b) }`;\n    }\n\n    get cssColor() {\n        // Return rgb(x,y,z) or rgba(x,y,z,w);\n    }\n\n    get aspectRatio() {\n        return this.width / this.height;\n    }\n\n    toString() {\n        switch (this.length) {\n        case 2:\n            return `[${this[0]}, ${this[1]}]`;\n        case 3:\n            return `[${this[0]}, ${this[1]}, ${this[2]}]`;\n        case 4:\n            return `[${this[0]}, ${this[1]}, ${this[2]}, ${this[5]}]`;\n        }\n    }\n\n    static CheckEqualLength(v1,v2) {\n        checkEqualLength(v1,v2);\n    }\n\n    static Max(v1,v2) {\n        checkEqualLength(v1,v2);\n        switch (v1.length) {\n        case 2:\n            return new Vec([\n                v1[0]>v2[0] ? v1[0] : v2[0],\n                v1[1]>v2[1] ? v1[1] : v2[1]\n            ]);\n        case 3:\n            return new Vec([\n                v1[0]>v2[0] ? v1[0] : v2[0],\n                v1[1]>v2[1] ? v1[1] : v2[1],\n                v1[2]>v2[2] ? v1[2] : v2[2]\n            ]);\n        case 4:\n            return new Vec([\n                v1[0]>v2[0] ? v1[0] : v2[0],\n                v1[1]>v2[1] ? v1[1] : v2[1],\n                v1[2]>v2[2] ? v1[2] : v2[2],\n                v1[3]>v2[3] ? v1[3] : v2[3]\n            ]);\n        default:\n            throw new Error(`Invalid vector size: ${ v1.length }`);\n        }\n    }\n\n    static Min(v1,v2) {\n        checkEqualLength(v1,v2);\n        switch (v1.length) {\n        case 2:\n            return new Vec([\n                v1[0]<v2[0] ? v1[0] : v2[0],\n                v1[1]<v2[1] ? v1[1] : v2[1]\n            ]);\n        case 3:\n            return new Vec([\n                v1[0]<v2[0] ? v1[0] : v2[0],\n                v1[1]<v2[1] ? v1[1] : v2[1],\n                v1[2]<v2[2] ? v1[2] : v2[2]\n            ]);\n        case 4:\n            return new Vec([\n                v1[0]<v2[0] ? v1[0] : v2[0],\n                v1[1]<v2[1] ? v1[1] : v2[1],\n                v1[2]<v2[2] ? v1[2] : v2[2],\n                v1[3]<v2[3] ? v1[3] : v2[3]\n            ]);\n        default:\n            throw new Error(`Invalid vector size: ${ v1.length }`);\n        }\n    }\n\n    static Add(v1,v2) {\n        checkEqualLength(v1,v2);\n        switch (v1.length) {\n        case 2:\n            return new Vec([\n                v1[0] + v2[0],\n                v1[1] + v2[1]\n            ]);\n        case 3:\n            return new Vec([\n                v1[0] + v2[0],\n                v1[1] + v2[1],\n                v1[2] + v2[2]\n            ]);\n        case 4:\n            return new Vec([\n                v1[0] + v2[0],\n                v1[1] + v2[1],\n                v1[2] + v2[2],\n                v1[3] + v2[3]\n            ]);\n        default:\n            throw new Error(`Invalid vector size: ${ v1.length }`);\n        }\n    }\n\n    static Sub(v1,v2) {\n        checkEqualLength(v1,v2);\n        switch (v1.length) {\n        case 2:\n            return new Vec([\n                v1[0] - v2[0],\n                v1[1] - v2[1]\n            ]);\n        case 3:\n            return new Vec([\n                v1[0] - v2[0],\n                v1[1] - v2[1],\n                v1[2] - v2[2]\n            ]);\n        case 4:\n            return new Vec([\n                v1[0] - v2[0],\n                v1[1] - v2[1],\n                v1[2] - v2[2],\n                v1[3] - v2[3]\n            ]);\n        default:\n            throw new Error(`Invalid vector size: ${ v1.length }`);\n        }\n    }\n\n    static Magnitude(v) {\n        switch (v.length) {\n        case 2:\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n        case 3:\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\n        case 4:\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2] + v[3] * v[3]);\n        default:\n            throw new Error(`Invalid vector size: ${ v.length }`);\n        }\n    }\n\n    static Distance(v1,v2) {\n        checkEqualLength(v1,v2);\n        return Vec.Magnitude(Vec.Sub(v1,v2));\n    }\n\n    static Dot(v1,v2) {\n        checkEqualLength(v1,v2);\n        switch (v1.length) {\n        case 2:\n            return v1[0] * v2[0] + v1[1] * v2[1];\n        case 3:\n            return v1[0] * v2[0] + v1[1] * v2[1] + v1[2] * v2[2];\n        case 4:\n            return v1[0] * v2[0] + v1[1] * v2[1] + v1[2] * v2[2] + v1[3] * v2[3];\n        default:\n            throw new Error(`Invalid vector size: ${ v1.length }`);\n        }\n    }\n\n    static Cross(v1,v2) {\n        checkEqualLength(v1,v2);\n        switch (v1.length) {\n        case 2:\n            return v1[0] * v2[1] - v1[1] - v2[0];\n        case 3:\n            return new Vec([\n                v1[1] * v2[2] - v1[2] * v2[1],\n                v1[2] * v2[0] - v1[0] * v2[2],\n                v1[0] * v2[1] - v1[1] * v2[0],\n            ]);\n        default:\n            throw new Error(`Invalid vector size for cross product: ${ v1.length }`);\n        }\n    }\n\n    static Normalized(v) {\n        const m = Vec.Magnitude(v);\n        switch (v.length) {\n        case 2:\n            return new Vec([ v[0] / m, v[1] / m ]);\n        case 3:\n            return new Vec([ v[0] / m, v[1] / m, v[2] / m ]);\n        case 4:\n            return new Vec([ v[0] / m, v[1] / m, v[2] / m, v[3] / m ])\n        default:\n            throw new Error(`Invalid vector size: ${ v.length }`);\n        }\n    }\n\n    static Mult(v,s) {\n        switch (v.length) {\n        case 2:\n            return new Vec([ v[0] * s, v[1] * s ]);\n        case 3:\n            return new Vec([ v[0] * s, v[1] * s, v[2] * s ]);\n        case 4:\n            return new Vec([ v[0] * s, v[1] * s, v[2] * s, v[3] * s ]);\n        default:\n            throw new Error(`Invalid vector size: ${ v.length }`);\n        }\n    }\n\n    static Div(v,s) {\n        switch (v.length) {\n        case 2:\n            return new Vec([ v[0] / s, v[1] / s ]);\n        case 3:\n            return new Vec([ v[0] / s, v[1] / s, v[2] / s ]);\n        case 4:\n            return new Vec([ v[0] / s, v[1] / s, v[2] / s, v[3] / s ]);\n        default:\n            throw new Error(`Invalid vector size: ${ v.length }`);\n        }\n    }\n\n    static Equals(v1,v2) {\n        if (v1.length != v2.length) {\n            return false;\n        }\n        else {\n            switch (v1.length) {\n            case 2:\n                return  equals(v1[0], v2[0]) &&\n                        equals(v1[1], v2[1]);\n            case 3:\n                return  equals(v1[0], v2[0]) &&\n                        equals(v1[1], v2[1]) &&\n                        equals(v1[2], v2[2]);\n            case 4:\n                return  equals(v1[0], v2[0]) &&\n                        equals(v1[1], v2[1]) &&\n                        equals(v1[2], v2[2]) &&\n                        equals(v1[3], v2[3]);\n            default:\n                throw new Error(`Invalid vector size: ${ v1.length }`);\n            }\n        }\n    }\n\n    static IsZero(v) {\n        switch (v.length) {\n        case 2:\n            return isZero(v[0]) || isZero(v[1]);\n        case 3:\n            return isZero(v[0]) || isZero(v[1]) || isZero(v[2]);\n        case 4:\n            return isZero(v[0]) || isZero(v[1]) || isZero(v[2]) || isZero(v[3]);\n        default:\n            throw new Error(`Invalid vector size: ${ v.length }`);\n        }\n    }\n\n    static IsNaN(v) {\n        switch (v.length) {\n        case 2:\n            return isNaN(v[0]) || isNaN(v[1]);\n        case 3:\n            return isNaN(v[0]) || isNaN(v[1]) || isNaN(v[2]);\n        case 4:\n            return isNaN(v[0]) || isNaN(v[1]) || isNaN(v[2]) || isNaN(v[3]);\n        default:\n            throw new Error(`Invalid vector size: ${ v.length }`);\n        }\n    }\n\n    /////// Constructors\n    static Vec2() {\n        return new Vec(0,0);\n    }\n\n    static Vec3() {\n        return new Vec(0,0,0);\n    }\n\n    static Vec4() {\n        return new Vec(0,0,0,0);\n    }\n}\n    ","/*\n    Extracted from bg2 engine source code: https://github.com/ferserc1/bg2e-js.git\n    file: bg2e/math/Mat3.js\n */\n\nimport { NumericArray } from \"./constants\";\nimport Vec from \"./Vec\";\nimport { isZero, equals } from \"./functions\";\n\nexport default class Mat3 extends NumericArray {\n    constructor() {\n        if (arguments.length === 9) {\n            super(arguments);\n        }\n        else if (arguments.length === 1 && arguments[0].length === 9) {\n            super(arguments[0]);\n        }\n        else if (arguments.length === 0) {\n            super([0,0,0,0,0,0,0,0,0]);\n        }\n        else {\n            throw new Error(`Invalid parameter size in Mat3 constructor`);\n        }\n    }\n\n    identity() {\n        this[0] = 1; this[1] = 0; this[2] = 0;\n        this[3] = 0; this[4] = 1; this[5] = 0;\n        this[6] = 0; this[7] = 0; this[8] = 1;\n        return this;\n    }\n\n    zero() {\n        this[0] = 0; this[1] = 0; this[2] = 0;\n        this[3] = 0; this[4] = 0; this[5] = 0;\n        this[6] = 0; this[7] = 0; this[8] = 0;\n        return this;\n    }\n\n    row(i) {\n        return new Vec(\n            this[i * 3], \n            this[i * 3 + 1],\n            this[ i* 3 + 2]);\n    }\n\n    setRow(i, a, y = null, z = null) {\n        if (a?.length>=3) {\n            this[i * 3]      = a[0];\n            this[i * 3 + 1]  = a[1];\n            this[i * 3 + 2]  = a[2];\n        }\n        else if (typeof(a) === \"number\" && \n            typeof(y) === \"number\" && \n            typeof(z) === \"number\"\n        ) {\n            this[i * 3]      = a;\n            this[i * 3 + 1]  = y;\n            this[i * 3 + 2]  = z;\n        }\n        else {\n            throw new Error(`Invalid parameter setting matrix row`);\n        }\n        return this;\n    }\n\n    col(i) {\n        return new Vec(\n            this[i],\n            this[i + 3],\n            this[i + 3 * 2]\n        )\n    }\n\n    setCol(i, a, y = null, z = null) {\n        if (a?.length>=3) {\n            this[i]         = a[0];\n            this[i + 3]     = a[1];\n            this[i + 3 * 2] = a[2];\n        }\n        else if (typeof(a) === \"number\" && \n            typeof(y) === \"number\" && \n            typeof(z) === \"number\"\n        ) {\n            this[i]         = a;\n            this[i + 3]     = y;\n            this[i + 3 * 2] = z;\n        }\n        else {\n            throw new Error(`Invalid parameter setting matrix row`);\n        }\n        return this;\n    }\n\n    assign(m) {\n        if (m.length === 9) {\n            this[0] = m[0]; this[1] = m[1]; this[2] = m[2];\n\t\t\tthis[3] = m[3]; this[4] = m[4]; this[5] = m[5];\n\t\t\tthis[6] = m[6]; this[7] = m[7]; this[8] = m[8];\n        }\n        else if (m.length === 16) {\n            this[0] = m[0]; this[1] = m[1]; this[2] = m[2];\n\t\t\tthis[3] = m[4]; this[4] = m[5]; this[5] = m[6];\n\t\t\tthis[6] = m[8]; this[7] = m[9]; this[8] = m[10];\n        }\n        else {\n            throw new Error(`Invalid plarameter setting matrix data`);\n        }\n        return this;\n    }\n\n    setScale(x,y,z) { \n\t\tconst rx = (new Vec(this[0], this[3], this[6])).normalize().scale(x);\n\t\tconst ry = (new Vec(this[1], this[4], this[7])).normalize().scale(y);\n\t\tconst rz = (new Vec(this[2], this[5], this[8])).normalize().scale(z);\n\t\tthis[0] = rx.x; this[3] = rx.y; this[6] = rx.z;\n\t\tthis[1] = ry.x; this[4] = ry.y; this[7] = ry.z;\n\t\tthis[2] = rz.x; this[5] = rz.y; this[8] = rz.z;\n\t\treturn this;\n\t}\n\n    traspose() {\n        const m3 = this[3];  // 0, 1, 2\n        const m7 = this[7];  // 3, 4, 5\n        const m6 = this[6];  // 6, 7, 8\n        this[3] = this[1];\n        this[6] = this[2];\n        this[7] = this[5];\n        this[1] = m3;\n        this[2] = m6;\n        this[5] = m7;\n        return this;\n    }\n\n    mult(a) {\n        if (typeof(a) === \"number\") {\n            this[0] *= a; this[1] *= a; this[2] *= a;\n            this[3] *= a; this[4] *= a; this[5] *= a;\n            this[6] *= a; this[7] *= a; this[8] *= a;\n        }\n        else if (a instanceof NumericArray && a.length === 9) {\n            const r0 = this.row(0);\n            const r1 = this.row(1);\n            const r2 = this.row(2);\n            const c0 = a.col(0);\n            const c1 = a.col(1);\n            const c2 = a.col(2);\n            \n            this[0] = Vec.Dot(r0,c0); this[1] = Vec.Dot(r0,c1); this[2] = Vec.Dot(r0,c2);\n            this[3] = Vec.Dot(r1,c0); this[4] = Vec.Dot(r1,c1); this[5] = Vec.Dot(r1,c2);\n            this[6] = Vec.Dot(r2,c0); this[7] = Vec.Dot(r2,c1); this[8] = Vec.Dot(r2,c2);\n        }\n        else {\n            throw new Error(`Invalid parameter in Mat3.mult()`);\n        }\n        return this;\n    }\n\n    multVector(v) {\n        if (v.length === 2 || v.length === 3) {\n            const x = v[0];\n            const y = v[1];\n            const z = v.length === 2 ? 1 : v[2];\n        \n            return new Vec(\tthis[0] * x + this[3] * y + this[6] * z,\n                            this[1] * x + this[4] * y + this[7] * z,\n                            this[2] * x + this[5] * y + this[8] * z);\n        }\n        else {\n            throw new Error(`Invalid parameter in Mat3.multVector()`);\n        }\n    }\n\n    toString() {\n        return  `[ ${this[0]}, ${this[1]}, ${this[2]}\\n` +\n                `  ${this[3]}, ${this[4]}, ${this[5]}\\n` +\n                `  ${this[6]}, ${this[7]}, ${this[8]} ]`;\n    }\n\n    static MakeIdentity() {\n        const m = new Mat3();\n        return m.identity();\n    }\n\n    static MakeZero() {\n        const m = new Mat3();\n        return m.zero();\n    }\n\n    static MakeWithQuaternion(q) {\n        const m = Mat3.MakeIdentity();\n        \n        m.setRow(0, new Vec( 1  - 2 * q[1] * q[1] - 2 * q[2] * q[2], 2 * q[0] * q[1] - 2 * q[2] * q[3], 2 * q[0] * q[2] + 2 * q[1] * q[3]));\n        m.setRow(1, new Vec( 2 * q[0] * q[1] + 2 * q[2] * q[3], 1  - 2.0 * q[0] * q[0] - 2 * q[2] * q[2], 2 * q[1] * q[2] - 2 * q[0] * q[3]));\n        m.setRow(2, new Vec( 2 * q[0] * q[2] - 2 * q[1] * q[3], 2 * q[1] * q[2] + 2 * q[0] * q[3] , 1 - 2 * q[0] * q[0] - 2 * q[1] * q[1]));\n\n        return m;\n    }\n\n    static IsZero(m) {\n        return\tisZero(v[0]) && isZero(v[1]) && isZero(v[2]) &&\n                isZero(v[3]) && isZero(v[4]) && isZero(v[5]) &&\n                isZero(v[6]) && isZero(v[7]) && isZero(v[8]);\n    }\n    \n    static IsIdentity(m) {\n        return\tequals(v[0], 1) && isZero(v[1]) && isZero(v[2]) &&\n                isZero(v[3]) && equals(v[4], 1) && isZero(v[5]) &&\n                isZero(v[6]) && isZero(v[7]) && equals(v[8], 1);\n    }\n\n    static GetScale(m) {\n        return new Vec(\n            Vec.Magnitude(new Vec(m[0], m[3], m[6])),\n            Vec.Magnitude(new Vec(m[1], m[4], m[7])),\n            Vec.Magnitude(new Vec(m[2], m[5], m[8]))\n        );\n    }\n\n    static Equals(a,b) {\n        return\tequals(a[0], b[0]) && equals(a[1], b[1])  && equals(a[2], b[2]) &&\n                equals(a[3], b[3]) && equals(a[4], b[4])  && equals(a[5], b[5]) &&\n                equals(a[6], b[6]) && equals(a[7], b[7])  && equals(a[8], b[8]);\n    }\n\n    static IsNaN(m) {\n        return\tisNaN(m[0]) || isNaN(m[1]) || isNaN(m[2]) &&\n                isNaN(m[3]) || isNaN(m[4]) || isNaN(m[5]) &&\n                isNaN(m[6]) || isNaN(m[7]) || isNaN(m[8]);\n    }\n};\n","/*\n    Extracted from bg2 engine source code: https://github.com/ferserc1/bg2e-js.git\n    file: bg2e/math/Mat4.js\n */\n\nimport { NumericArray, PI } from \"./constants\";\nimport Vec from \"./Vec\";\nimport Mat3 from \"./Mat3\";\nimport { equals, isZero } from \"./functions\";\n\nexport default class Mat4 extends NumericArray {\n    constructor() {\n        const inMatrix = [\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0\n        ];\n\n        // Create from matrix3\n        if (arguments.length === 9) {\n            inMatrix[0] = arguments[0]; \n            inMatrix[1] = arguments[1];\n            inMatrix[2] = arguments[2];\n\n            inMatrix[4] = arguments[3]; \n            inMatrix[5] = arguments[4];\n            inMatrix[6] = arguments[5];\n\n            inMatrix[8] = arguments[6]; \n            inMatrix[9] = arguments[7];\n            inMatrix[10] = arguments[8];\n\n            inMatrix[15] = 1;\n        }\n        else if (arguments.length === 1 && arguments[0].length === 9) {\n            inMatrix[0]  = arguments[0][0]; \n            inMatrix[1]  = arguments[0][1];\n            inMatrix[2]  = arguments[0][2];\n\n            inMatrix[4]  = arguments[0][3]; \n            inMatrix[5]  = arguments[0][4];\n            inMatrix[6]  = arguments[0][5];\n\n            inMatrix[8]  = arguments[0][6]; \n            inMatrix[9]  = arguments[0][7];\n            inMatrix[10] = arguments[0][8];\n\n            inMatrix[15] = 1;\n        }\n        // Create from matrix4\n        else if (arguments.length === 16) {\n            inMatrix[0 ] = arguments[0];\n            inMatrix[1 ] = arguments[1 ];\n            inMatrix[2 ] = arguments[2 ];\n            inMatrix[3 ] = arguments[3 ];\n\n            inMatrix[4 ] = arguments[4 ];\n            inMatrix[5 ] = arguments[5 ];\n            inMatrix[6 ] = arguments[6 ];\n            inMatrix[7 ] = arguments[7 ];\n\n            inMatrix[8 ] = arguments[8 ];\n            inMatrix[9 ] = arguments[9 ];\n            inMatrix[10] = arguments[10];\n            inMatrix[11] = arguments[11];\n\n            inMatrix[12] = arguments[12];\n            inMatrix[13] = arguments[13];\n            inMatrix[14] = arguments[14];\n            inMatrix[15] = arguments[15];\n        }\n        else if (arguments.length === 1 && arguments[0].length === 16) {\n            inMatrix[0 ] = arguments[0][0];\n            inMatrix[1 ] = arguments[0][1 ];\n            inMatrix[2 ] = arguments[0][2 ];\n            inMatrix[3 ] = arguments[0][3 ];\n\n            inMatrix[4 ] = arguments[0][4 ];\n            inMatrix[5 ] = arguments[0][5 ];\n            inMatrix[6 ] = arguments[0][6 ];\n            inMatrix[7 ] = arguments[0][7 ];\n\n            inMatrix[8 ] = arguments[0][8 ];\n            inMatrix[9 ] = arguments[0][9 ];\n            inMatrix[10] = arguments[0][10];\n            inMatrix[11] = arguments[0][11];\n\n            inMatrix[12] = arguments[0][12];\n            inMatrix[13] = arguments[0][13];\n            inMatrix[14] = arguments[0][14];\n            inMatrix[15] = arguments[0][15];\n        }\n        else if (arguments.length != 0) {\n            throw new Error(`Invalid parameter size in Matrix3 constructor`);\n        }\n\n        super(inMatrix);\n    }\n\n    ////// Initializers\n    identity() {\n        this[0 ] = 1; this[1 ] = 0; this[2 ] = 0; this[3 ] = 0\n        this[4 ] = 0; this[5 ] = 1; this[6 ] = 0; this[7 ] = 0\n        this[8 ] = 0; this[9 ] = 0; this[10] = 1; this[11] = 0\n        this[12] = 0; this[13] = 0; this[14] = 0; this[15] = 1\n        return this;\n    }\n\n    zero() {\n        this[ 0] = 0; this[ 1] = 0; this[ 2] = 0; this[ 3] = 0;\n        this[ 4] = 0; this[ 5] = 0; this[ 6] = 0; this[ 7] = 0;\n        this[ 8] = 0; this[ 9] = 0; this[10] = 0; this[11] = 0;\n        this[12] = 0; this[13] = 0; this[14] = 0; this[15] = 0;\n        return this;\n    }\n\n    perspective(fovy, aspect, nearPlane, farPlane) {\n        let fovy2 = Math.tan(fovy * PI / 360.0) * nearPlane;\n        let fovy2aspect = fovy2 * aspect;\n        this.frustum(-fovy2aspect,fovy2aspect,-fovy2,fovy2,nearPlane,farPlane);\n        return this;\n    }\n\n    frustum(left, right, bottom, top, nearPlane, farPlane) {\n        let A = right - left;\n        let B = top-bottom;\n        let C = farPlane-nearPlane;\n        \n        this.setRow(0, new Vec(nearPlane*2.0/A,\t0.0,\t0.0,\t0.0));\n        this.setRow(1, new Vec(0.0,\tnearPlane*2.0/B,\t0.0,\t0.0));\n        this.setRow(2, new Vec((right+left)/A,\t(top+bottom)/B,\t-(farPlane+nearPlane)/C,\t-1.0));\n        this.setRow(3, new Vec(0.0,\t0.0,\t-(farPlane*nearPlane*2.0)/C,\t0.0));\n        \n        return this;\n    }\n\n    ortho(left, right, bottom, top, nearPlane, farPlane) {\n        let m = right-left;\n        let l = top-bottom;\n        let k = farPlane-nearPlane;;\n        \n        this[0] = 2/m; this[1] = 0;   this[2] = 0;     this[3] = 0;\n        this[4] = 0;   this[5] = 2/l; this[6] = 0;     this[7] = 0;\n        this[8] = 0;   this[9] = 0;   this[10] = -2/k; this[11]= 0;\n        this[12]=-(left+right)/m; this[13] = -(top+bottom)/l; this[14] = -(farPlane+nearPlane)/k; this[15]=1;\n\n        return this;\n    }\n        \n    lookAt(p_eye, p_center, p_up) {\n        this.identity();\n\n        const y = new Vec(p_up);\n        const z = Vec.Sub(p_eye,p_center);\n        z.normalize();\n        const x = Vec.Cross(y,z);\n        x.normalize();\n        y.normalize();\n\n        this.m00 = x.x;\n        this.m10 = x.y;\n        this.m20 = x.z;\n        this.m30 = -Vec.Dot(x, p_eye);\n        this.m01 = y.x;\n        this.m11 = y.y;\n        this.m21 = y.z;\n        this.m31 = -Vec.Dot(y, p_eye);\n        this.m02 = z.x;\n        this.m12 = z.y;\n        this.m22 = z.z;\n        this.m32 = -Vec.Dot(z, p_eye);\n        this.m03 = 0;\n        this.m13 = 0;\n        this.m23 = 0;\n        this.m33 = 1;\n    \n        return this;\n    }\n\n\n\n\n    ///// Setters and getters\n    get m00() { return this[0]; }\n    get m01() { return this[1]; }\n    get m02() { return this[2]; }\n    get m03() { return this[3]; }\n    get m10() { return this[4]; }\n    get m11() { return this[5]; }\n    get m12() { return this[6]; }\n    get m13() { return this[7]; }\n    get m20() { return this[8]; }\n    get m21() { return this[9]; }\n    get m22() { return this[10]; }\n    get m23() { return this[11]; }\n    get m30() { return this[12]; }\n    get m31() { return this[13]; }\n    get m32() { return this[14]; }\n    get m33() { return this[15]; }\n    \n    set m00(v) { this[0] = v; }\n    set m01(v) { this[1] = v; }\n    set m02(v) { this[2] = v; }\n    set m03(v) { this[3] = v; }\n    set m10(v) { this[4] = v; }\n    set m11(v) { this[5] = v; }\n    set m12(v) { this[6] = v; }\n    set m13(v) { this[7] = v; }\n    set m20(v) { this[8] = v; }\n    set m21(v) { this[9] = v; }\n    set m22(v) { this[10] = v; }\n    set m23(v) { this[11] = v; }\n    set m30(v) { this[12] = v; }\n    set m31(v) { this[13] = v; }\n    set m32(v) { this[14] = v; }\n    set m33(v) { this[15] = v; }\n\n    get mat3() {\n        return new Mat3(this[0], this[1], this[ 2],\n                        this[4], this[5], this[ 6],\n                        this[8], this[9], this[10]);\n    }\n\n    get forwardVector() {\n        return Mat4.TransformDirection(this, new Vec(0.0, 0.0, 1.0));\n    }\n    \n    get rightVector() {\n        return Mat4.TransformDirection(this, new Vec(1.0, 0.0, 0.0));\n    }\n    \n    get upVector() {\n        return Mat4.TransformDirection(this, new Vec(0.0, 1.0, 0.0));\n    }\n    \n    get backwardVector() {\n        return Mat4.TransformDirection(this, new Vec(0.0, 0.0, -1.0));\n    }\n    \n    get leftVector() {\n        return Mat4.TransformDirection(this, new Vec(-1.0, 0.0, 0.0));\n    }\n    \n    get downVector() {\n        return Mat4.TransformDirection(this, new Vec(0.0, -1.0, 0.0));\n    }\n\n    row(i) {\n        return new Vec(\n            this[i * 4], \n            this[i * 4 + 1],\n            this[i * 4 + 2],\n            this[i * 4 + 3]);\n    }\n\n    setRow(i, a, y = null, z = null, w = null) {\n        if (a.length>=4) {\n            this[i * 4]      = a[0];\n            this[i * 4 + 1]  = a[1];\n            this[i * 4 + 2]  = a[2];\n            this[i * 4 + 3]  = a[3];\n        }\n        else if (typeof(a) === \"number\" && \n            typeof(y) === \"number\" && \n            typeof(z) === \"number\" &&\n            typeof(w) === \"number\"\n        ) {\n            this[i * 4]      = a;\n            this[i * 4 + 1]  = y;\n            this[i * 4 + 2]  = z;\n            this[i * 4 + 3]  = w;\n        }\n        else {\n            throw new Error(`Invalid parameter setting matrix row`);\n        }\n        return this;\n    }\n\n    col(i) {\n        return new Vec(\n            this[i],\n            this[i + 4],\n            this[i + 4 * 2],\n            this[i + 4 * 3]\n        )\n    }\n\n    setCol(i, a, y = null, z = null, w = null) {\n        if (a.length>=4) {\n            this[i]         = a[0];\n            this[i + 4]     = a[1];\n            this[i + 4 * 2] = a[2];\n            this[i + 4 * 3] = a[3];\n        }\n        else if (typeof(a) === \"number\" && \n            typeof(y) === \"number\" && \n            typeof(z) === \"number\" &&\n            typeof(w) === \"number\"\n        ) {\n            this[i]         = a;\n            this[i + 4]     = y;\n            this[i + 4 * 2] = z;\n            this[i + 4 * 3] = w;\n        }\n        else {\n            throw new Error(`Invalid parameter setting matrix row`);\n        }\n        return this;\n    }\n\n    assign(a) {\n        if (a.length==9) {\n            this[0]  = a[0]; this[1]  = a[1]; this[2]  = a[2]; this[3]  = 0;\n            this[4]  = a[3]; this[5]  = a[4]; this[6]  = a[5]; this[7]  = 0;\n            this[8]  = a[6]; this[9]  = a[7]; this[10] = a[8]; this[11] = 0;\n            this[12] = 0;\t this[13] = 0;\t  this[14] = 0;\t   this[15] = 1;\n        }\n        else if (a.length==16) {\n            this[0]  = a[0];  this[1]  = a[1];  this[2]  = a[2];  this[3]  = a[3];\n            this[4]  = a[4];  this[5]  = a[5];  this[6]  = a[6];  this[7]  = a[7];\n            this[8]  = a[8];  this[9]  = a[9];  this[10] = a[10]; this[11] = a[11];\n            this[12] = a[12]; this[13] = a[13];\tthis[14] = a[14]; this[15] = a[15];\n        }\n        return this;\n    }\n\n    translate(x, y, z) {\n        this.mult(Mat4.MakeTranslation(x, y, z));\n        return this;\n    }\n\n    rotate(alpha, x, y, z) {\n        this.mult(Mat4.MakeRotation(alpha, x, y, z));\n        return this;\n    }\n    \n    scale(x, y, z) {\n        this.mult(Mat4.MakeScale(x, y, z));\n        return this;\n    }\n\n    toString() {\n        return  `[ ${this[ 0]}, ${this[ 1]}, ${this[ 2]}, ${this[ 3]}\\n` +\n                `  ${this[ 4]}, ${this[ 5]}, ${this[ 6]}, ${this[ 7]}\\n` +\n                `  ${this[ 8]}, ${this[ 9]}, ${this[10]}, ${this[11]}\\n` +\n                `  ${this[12]}, ${this[13]}, ${this[14]}, ${this[15]} ]`;\n    }\n\n    setScale(x,y,z) {\n        const rx = new Vec(this[0], this[4], this[8]).normalize().scale(x);\n        const ry = new Vec(this[1], this[5], this[9]).normalize().scale(y);\n        const rz = new Vec(this[2], this[6], this[10]).normalize().scale(z);\n        this[0] = rx.x; this[4] = rx.y; this[8] = rx.z;\n        this[1] = ry.x; this[5] = ry.y; this[9] = ry.z;\n        this[2] = rz.x; this[6] = rz.y; this[10] = rz.z;\n        return this;\n    }\n\n    setPosition(pos,y,z) {\n        if (typeof(pos)==\"number\") {\n            this[12] = pos;\n            this[13] = y;\n            this[14] = z;\n        }\n        else {\n            this[12] = pos.x;\n            this[13] = pos.y;\n            this[14] = pos.z;\n        }\n        return this;\n    }\n\n    mult(a) {\n        if (typeof(a)=='number') {\n            this[ 0] *= a; this[ 1] *= a; this[ 2] *= a; this[ 3] *= a;\n            this[ 4] *= a; this[ 5] *= a; this[ 6] *= a; this[ 7] *= a;\n            this[ 8] *= a; this[ 9] *= a; this[10] *= a; this[11] *= a;\n            this[12] *= a; this[13] *= a; this[14] *= a; this[15] *= a;\n            return this;\n        }\n\n        const r0 = this.row(0);\n        const r1 = this.row(1);\n        const r2 = this.row(2);\n        const r3 = this.row(3);\n        const c0 = a.col(0);\n        const c1 = a.col(1);\n        const c2 = a.col(2);\n        const c3 = a.col(3);\n\n        this[0 ] = Vec.Dot(r0, c0); this[1 ] = Vec.Dot(r0, c1); this[2 ] = Vec.Dot(r0, c2); this[3 ] = Vec.Dot(r0, c3);\n        this[4 ] = Vec.Dot(r1, c0); this[5 ] = Vec.Dot(r1, c1); this[6 ] = Vec.Dot(r1, c2); this[7 ] = Vec.Dot(r1, c3);\n        this[8 ] = Vec.Dot(r2, c0); this[9 ] = Vec.Dot(r2, c1); this[10] = Vec.Dot(r2, c2); this[11] = Vec.Dot(r2, c3);\n        this[12] = Vec.Dot(r3, c0); this[13] = Vec.Dot(r3, c1); this[14] = Vec.Dot(r3, c2); this[15] = Vec.Dot(r3, c3);\n\n        return this;\n    }\n\n    multVector(vec) {\n        if (vec.length<3) {\n            throw new Error(\"Invalid parameter multiplying Mat4 by vector\");\n        }\n\n        const x = vec[0];\n        const y = vec[1];\n        const z = vec[2];\n        const w = vec.length >3 ? vec[3] : 1.0;\n    \n        return new Vec( this[0] * x + this[4] * y + this[ 8] * z + this[12] * w,\n                        this[1] * x + this[5] * y + this[ 9] * z + this[13] * w,\n                        this[2] * x + this[6] * y + this[10] * z + this[14] * w,\n                        this[3] * x + this[7] * y + this[11] * z + this[15] * w);\n    }\n    \n    invert() {\n        const a00 = this[0],  a01 = this[1],  a02 = this[2],  a03 = this[3],\n                a10 = this[4],  a11 = this[5],  a12 = this[6],  a13 = this[7],\n                a20 = this[8],  a21 = this[9],  a22 = this[10], a23 = this[11],\n                a30 = this[12], a31 = this[13], a32 = this[14], a33 = this[15];\n\n        const b00 = a00 * a11 - a01 * a10,\n                b01 = a00 * a12 - a02 * a10,\n                b02 = a00 * a13 - a03 * a10,\n                b03 = a01 * a12 - a02 * a11,\n                b04 = a01 * a13 - a03 * a11,\n                b05 = a02 * a13 - a03 * a12,\n                b06 = a20 * a31 - a21 * a30,\n                b07 = a20 * a32 - a22 * a30,\n                b08 = a20 * a33 - a23 * a30,\n                b09 = a21 * a32 - a22 * a31,\n                b10 = a21 * a33 - a23 * a31,\n                b11 = a22 * a33 - a23 * a32;\n\n        let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n        if (!det) {\n            this.zero();\n        }\n        else {\n            det = 1.0 / det;\n\n            this[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n            this[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n            this[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n            this[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n            this[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n            this[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n            this[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n            this[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n            this[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n            this[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n            this[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n            this[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n            this[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n            this[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n            this[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n            this[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n        }\n\n        return this;\n    }\n    \n    traspose() {\n        const r0 = new Vec(this[0], this[4], this[ 8], this[12]);\n        const r1 = new Vec(this[1], this[5], this[ 9], this[13]);\n        const r2 = new Vec(this[2], this[6], this[10], this[14]);\n        const r3 = new Vec(this[3], this[7], this[11], this[15]);\n    \n        this.setRow(0, r0);\n        this.setRow(1, r1);\n        this.setRow(2, r2);\n        this.setRow(3, r3);\n        return this;\n    }\n\n    ///////// Factory methods\n    static MakeIdentity() {\n        const m = new Mat4();\n        return m.identity();\n    }\n\n    static MakeZero() {\n        const m = new Mat4();\n        return m.zero();\n    }\n\n    static MakeWithQuaternion(q) {\n        const m = Mat4.MakeIdentity();\n        \n        m.setRow(0, new Vec( 1  - 2 * q[1] * q[1] - 2 * q[2] * q[2], 2 * q[0] * q[1] - 2 * q[2] * q[3], 2 * q[0] * q[2] + 2 * q[1] * q[3], 0));\n        m.setRow(1, new Vec( 2 * q[0] * q[1] + 2 * q[2] * q[3], 1  - 2.0 * q[0] * q[0] - 2 * q[2] * q[2], 2 * q[1] * q[2] - 2 * q[0] * q[3], 0));\n        m.setRow(2, new Vec( 2 * q[0] * q[2] - 2 * q[1] * q[3], 2 * q[1] * q[2] + 2 * q[0] * q[3] , 1 - 2 * q[0] * q[0] - 2 * q[1] * q[1], 0));//\n        return m;\n    }\n    \n    static MakeTranslation(x, y, z) {\n        if (x instanceof NumericArray && x.length >= 3) {\n            y = x[1];\n            z = x[2];\n            x = x[0];\n        }\n        return new Mat4(\n            1.0, 0.0, 0.0, 0.0,\n            0.0, 1.0, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n                x,   y,   z, 1.0\n        );\n    }\n        \n    static MakeRotation(alpha, x, y, z) {\n        const axis = new Vec(x,y,z);\n        axis.normalize();\n                \n        var cosAlpha = Math.cos(alpha);\n        var acosAlpha = 1.0 - cosAlpha;\n        var sinAlpha = Math.sin(alpha);\n        \n        return new Mat4(\n            axis.x * axis.x * acosAlpha + cosAlpha, axis.x * axis.y * acosAlpha + axis.z * sinAlpha, axis.x * axis.z * acosAlpha - axis.y * sinAlpha, 0,\n            axis.y * axis.x * acosAlpha - axis.z * sinAlpha, axis.y * axis.y * acosAlpha + cosAlpha, axis.y * axis.z * acosAlpha + axis.x * sinAlpha, 0,\n            axis.z * axis.x * acosAlpha + axis.y * sinAlpha, axis.z * axis.y * acosAlpha - axis.x * sinAlpha, axis.z * axis.z * acosAlpha + cosAlpha, 0,\n            0,0,0,1\n        );\n    }\n\n    static MakeScale(x, y, z) {\n        if (x instanceof NumericArray  && x.length >= 3) {\n            y = x[1];\n            z = x[2];\n            x = x[0];\n        }\n        return new Mat4(\n            x, 0, 0, 0,\n            0, y, 0, 0,\n            0, 0, z, 0,\n            0, 0, 0, 1\n        )\n    }\n    \n\n    static MakePerspective(fovy, aspect, nearPlane, farPlane) {\n        return (new Mat4()).perspective(fovy, aspect, nearPlane, farPlane);\n    }\n    \n    static MakeFrustum(left, right, bottom, top, nearPlane, farPlane) {\n        return (new Mat4()).frustum(left, right, bottom, top, nearPlane, farPlane);\n    }\n    \n    static MakeOrtho(left, right, bottom, top, nearPlane, farPlane) {\n        return (new Mat4()).ortho(left, right, bottom, top, nearPlane, farPlane);\n    }\n\n    static MakeLookAt(origin, target, up) {\n        return (new Mat4()).lookAt(origin,target,up);\n    }\n\n    // Other static methods\n    static Mult(A,B) {\n        const result = new Mat4(A);\n        return result.mult(B);\n    }\n\n    static Unproject(x, y, depth, mvMat, pMat, viewport) {\n        let mvp = new Mat4(pMat);\n        mvp.mult(mvMat);\n        mvp.invert();\n\n        const vin = new Vec(((x - viewport.y) / viewport.width) * 2.0 - 1.0,\n                                ((y - viewport.x) / viewport.height) * 2.0 - 1.0,\n                                depth * 2.0 - 1.0,\n                                1.0);\n        \n        const result = new Vec4(mvp.multVector(vin));\n        if (result.z==0) {\n            result.set(0);\n        }\n        else {\n            result.set(\tresult.x/result.w,\n                        result.y/result.w,\n                        result.z/result.w,\n                        result.w/result.w);\n        }\n\n        return result;\n    }\n\n    static GetScale(m) {\n        return new Vec(\n            Vec.Magnitude([m[1], m[5], m[9]]),\n            Vec.Magnitude([m[0], m[4], m[8]]),\n            Vec.Magnitude([m[2], m[6], m[10]])\n        );\n    }\n\n    static GetRotation(m) {\n        const scale = Mat4.GetScale(m);\n        return new Mat4(\n                m[0] / scale.x, m[1] / scale.y, m[ 2] / scale.z, 0,\n                m[4] / scale.x, m[5] / scale.y, m[ 6] / scale.z, 0,\n                m[8] / scale.x, m[9] / scale.y, m[10] / scale.z, 0,\n                0,\t   0,\t  0, \t1\n        );\n    }\n\n    static GetPosition(m) {\n        return new Vec(m[12], m[13], m[14]);\n    }\n\n    static GetInverted(m) {\n        const inverted = new Mat4(m);\n        inverted.invert();\n        return inverted;\n    }\n\n    static GetNormalMatrix(m) {\n        return new Mat4(m)\n            .invert()\n            .traspose()\n            .mat3;\n    }\n    \n    static Equals(m,n) {\n        return\tm[ 0] == n[ 0] && m[ 1] == n[ 1] && m[ 2] == n[ 2] && m[ 3] == n[ 3] &&\n                m[ 4] == n[ 4] && m[ 5] == n[ 5] && m[ 6] == n[ 6] && m[ 7] == n[ 7] &&\n                m[ 8] == n[ 8] && m[ 9] == n[ 9] && m[10] == n[10] && m[11] == n[11] &&\n                m[12] == n[12] && m[13] == n[13] && m[14] == n[14] && m[15] == n[15];\n    }\n\n    static TransformDirection(M, /* Vec */ dir) {\n        const direction = new Vec(dir);\n        const trx = new Mat4(M);\n        trx.setRow(3, new Vec(0, 0, 0, 1));\n        direction.assign(trx.multVector(direction).xyz);\n        direction.normalize();\n        return direction;\n    }\n\n    static IsNan() {\n        return\tisNaN(this[ 0]) || isNaN(this[ 1]) || isNaN(this[ 2]) || isNaN(this[ 3]) ||\n                isNaN(this[ 4]) || isNaN(this[ 5]) || isNaN(this[ 6]) || isNaN(this[ 7]) ||\n                isNaN(this[ 8]) || isNaN(this[ 9]) || isNaN(this[10]) || isNaN(this[11]) ||\n                isNaN(this[12]) || isNaN(this[13]) || isNaN(this[14]) || isNaN(this[15]);\n    }\n\n    static IsZero(m) {\n        return\tisZero(m[ 0]) && isZero(m[ 1]) && isZero(m[ 2]) && isZero(m[ 3]) &&\n                isZero(m[ 4]) && isZero(m[ 5]) && isZero(m[ 6]) && isZero(m[ 7]) &&\n                isZero(m[ 8]) && isZero(m[ 9]) && isZero(m[10]) && isZero(m[11]) &&\n                isZero(m[12]) && isZero(m[13]) && isZero(m[14]) && isZero(m[15]);\n    }\n    \n    static IsIdentity(m) {\n        return\tequals(m[ 0],1) && equals(m[ 1],0) && equals(m[ 2],0) && equals(m[ 3],0) &&\n                equals(m[ 4],0) && equals(m[ 5],1) && equals(m[ 6],0) && equals(m[ 7],0) &&\n                equals(m[ 8],0) && equals(m[ 9],0) && equals(m[10],1) && equals(m[11],0) &&\n                equals(m[12],0) && equals(m[13],0) && equals(m[14],0) && equals(m[15],1);\n    }\n}\n","import { CanvasPlugin, Canvas, createElementWithHtmlText } from 'paella-core';\nimport WebGLCanvas from '../js/WebGLCanvas';\nimport Shader from '../js/Shader';\nimport SceneObject from '../js/SceneObject';\nimport VideoTexture from '../js/VideoTexture';\nimport { createSphere } from '../js/primitives';\nimport Mat4 from '../js/math/Mat4';\nimport WebGLPluginsModule from './WebGLPluginModule';\n\nconst vertex = `\nprecision highp float;\nattribute vec3 inVertexPos;\nattribute vec2 inTexCoord;\n\nvarying vec2 fsTexCoord;\n\nuniform mat4 uView;\nuniform mat4 uProj;\n\nvoid main() {\n    gl_Position = uProj * uView * vec4(inVertexPos,1.0);\n    fsTexCoord = inTexCoord;\n}\n`;\n\nconst fragment = `\nprecision highp float;\nuniform sampler2D uVideoTexture;\n\nvarying vec2 fsTexCoord;\n\nvoid main() {\n    gl_FragColor = texture2D(uVideoTexture,fsTexCoord);\n}\n`;\n\nconst removeVideoElement = (video, debug = false) => {\n    const playerParent = video.parentNode;\n    playerParent.removeChild(video);\n    document.body.appendChild(video);\n    video.style.position = \"fixed\";\n    video.style.width = \"100px\";\n    video.style.height = \"50px\";\n    video.style.top = \"0px\";\n    video.style.left = \"0px\";\n    if (!debug) {\n        video.style.display = \"none\";\n    }\n}\n\nexport class Video360Canvas extends Canvas {\n    constructor(player, videoContainer, config) {\n        super('canvas', player, videoContainer);\n        this.config = config;\n        this.maxZoom = config.maxZoom ?? 3;\n        this.minZoom = config.minZoom ?? 0.3;\n        this.speedX = config.speedX ?? 1;\n        this.speedY = config.speedY ?? 1;\n\n        let downPosition = [0,0];\n        let drag = false;\n        this._pitch = 0;\n        this._yaw = 0;\n        this.element.addEventListener('mousedown', evt => {\n            drag = true;\n            downPosition = [evt.clientX, evt.clientY];\n            evt.stopPropagation();\n        });\n\n        this.element.addEventListener('click', evt => {\n            evt.stopPropagation();\n        });\n\n        this.element.addEventListener('mouseup', evt => {\n            drag = false;\n            evt.stopPropagation();\n        });\n\n        this.element.addEventListener('wheel', evt => {\n            this.currentZoom += evt.deltaY / 1000;\n            if (this.currentZoom > this.maxZoom) {\n                this.currentZoom = this.maxZoom;\n            }\n            else if (this.currentZoom < this.minZoom) {\n                this.currentZoom = this.minZoom;\n            }\n            evt.stopPropagation();\n            evt.preventDefault();\n        });\n\n        this.element.addEventListener('mouseout', evt => {\n            drag = false;\n            evt.stopPropagation();\n        });\n\n        this.element.addEventListener('mousemove', evt => {\n            if (drag) {\n                const newPos = [evt.clientX, evt.clientY];\n                const diff = [downPosition[0] - newPos[0], downPosition[1] - newPos[1]];\n                downPosition = newPos;\n                this._yaw += diff[0] * 0.004 * this.speedX;\n                this._pitch += diff[1] * 0.004 * this.speedY;\n                if (this._yaw>2*Math.PI) {\n                    this._yaw = this._yaw - 2 * Math.PI;\n                }\n                else if (this._yaw<0) {\n                    this._yaw = 2 * Math.PI + this._yaw;\n                }\n\n                if (this._pitch>Math.PI / 2) {\n                    this._pitch = Math.PI / 2;\n                }\n                else if (this._pitch<=-Math.PI / 2) {\n                    this._pitch = -Math.PI / 2;\n                }\n\n            }\n            evt.stopPropagation();\n        });\n    }\n\n    async loadCanvas(player) {\n        this.currentZoom = 1;\n        this._videoPlayer = player;\n\n        player.element.style.width = \"100%\";\n        player.element.style.height = \"100%\";\n        player.element.style.position = \"absolute\";\n        player.element.style.top = \"0\";\n        player.element.style.left = \"0\";\n\n        this.element.style.overflow = \"hidden\";\n        this.element.style.position = \"relative\";\n\n        this._videoPlayer = player;\n        player.element.crossOrigin = \"\";\n        removeVideoElement.apply(this, [player.element, false])\n\n        this._webGLCanvas = new WebGLCanvas(this.element);\n        await this._webGLCanvas.init({ clearColor: [0.2, 0.3, 0.8, 1] });\n\n        const { gl } = this._webGLCanvas;\n\n        const videoTexture = new VideoTexture(gl, player.element);\n\n        const shader = new Shader(gl, { \n            vertex, fragment, \n            attribs: [ 'inVertexPos', 'inTexCoord' ], \n            uniforms: [ 'uView', 'uProj', 'uVideoTexture' ]\n        });\n\n        const sphereData = createSphere(30);\n        const sphere = new SceneObject(gl, sphereData.positions, sphereData.uvs, sphereData.triangles);\n        \n        const canvas = this.element;\n        const draw = () => {\n            const w = canvas.clientWidth;\n            const h = canvas.clientHeight;\n\n            const fov = 45 * this.currentZoom;\n            const aspectRatio = w / h;\n            const projection = Mat4.MakePerspective(fov, isNaN(aspectRatio) ? 16/9 : aspectRatio, 0.01, 10.0);\n            const view = Mat4.MakeIdentity();\n            const model = Mat4.MakeRotation(this._yaw, 0, 1, 0);\n            model.rotate(this._pitch, 1, 0, 0);\n\n            videoTexture.updateTexture();\n            canvas.width = w;\n            canvas.height = h;\n            gl.viewport(0, 0, w, h);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n    \n            shader.useProgram();\n            shader.enablePositionArray('inVertexPos', sphere);\n            shader.enableTexCoordArray('inTexCoord', sphere);\n            shader.bindMatrix4('uView', Mat4.Mult(model,view));\n            shader.bindMatrix4('uProj', projection);\n            shader.bindTexture('uVideoTexture', videoTexture.texture);\n            sphere.draw();\n            requestAnimationFrame(draw);    \n        }\n        draw();\n    }\n}\n\nexport default class Video360CanvasPlugin extends CanvasPlugin {\n    getPluginModuleInstance() {\n        return WebGLPluginsModule.Get();\n    }\n\n    get name() {\n        return super.name || \"es.upv.paella.video360Canvas\";\n    }\n\n    get canvasType() { return \"video360\"; }\n\n    isCompatible(stream) {\n        if (stream.canvas?.find(c => c == this.canvasType)) {\n            return true;\n        }\n        \n        return super.isCompatible(stream);\n    }\n\n    getCanvasInstance(videoContainer) {\n        return new Video360Canvas(this.player, videoContainer, this.config);\n    }\n}\n","var map = {\n\t\"./WebGLPluginModule.js\": 323,\n\t\"./es.upv.paella.video360Canvas.js\": 503\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 757;","module.exports = __WEBPACK_EXTERNAL_MODULE__995__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport Video360Canvas from './plugins/es.upv.paella.video360Canvas';\n\nexport default function getWebGLPluginsContext() {\n    return require.context(\"./plugins\", true, /\\.js/)\n}\n\nexport const webglPlugins = [\n    {\n        plugin: Video360Canvas,\n        config: {\n            enabled: false\n        }\n    }\n];\n\nexport const allPlugins = webglPlugins;\n\nexport const Video360CanvasPlugin = Video360Canvas;\n"],"names":["root","factory","exports","module","require","define","amd","undefined","self","__WEBPACK_EXTERNAL_MODULE__995__","g_pluginModule","WebGLPluginsModule","_PluginModule","_inherits","_super","_classCallCheck","apply","arguments","key","value","get","PluginModule","WebGLCanvas","canvas","this","gl","getContext","Error","_init","regeneratorRuntime","mark","_callee","_ref","_ref$clearColor","clearColor","_args","wrap","_context","prev","next","length","enable","DEPTH_TEST","_toConsumableArray","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","stop","loadShader","type","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","console","error","concat","getShaderInfoLog","Shader","_this","_ref$vertex","vertex","_ref$fragment","fragment","_ref$attribs","attribs","_ref$uniforms","uniforms","vShader","VERTEX_SHADER","fShader","FRAGMENT_SHADER","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteShader","_shaderProgram","forEach","attrib","getAttribLocation","warn","uniform","getUniformLocation","useProgram","attribName","vertexBuffer","bindPositions","enableArray","bindTexCoord","numComponents","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniformName","texture","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","uniform1i","uniform1f","uniformMatrix4fv","createVertexBuffer","vertexData","result","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","SceneObject","position","texCoord","index","positionArray","positionBuffer","texCoordArray","texCoordBuffer","indexArray","indexBuffer","indexData","ELEMENT_ARRAY_BUFFER","Uint16Array","createIndexBuffer","drawElements","TRIANGLES","UNSIGNED_SHORT","VideoTexture","video","createTexture","pixel","Uint8Array","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TWO_PI","Math","PI","QUARTER_TURN","inverseLerp","start","end","createSphere","density","_ref2","radius","lat","lng","radsPerUnit","sliceVertCount","positions","uvs","latitude","i","v","longitude","vertLength","j","push","_slicedToArray","cos","sin","colors","triangles","ringStartP","ring","vertexBump","sliceVert","thisP","nextP","nextRingP","nextRingNextP","flat","normals","NumericArray","checkZero","Float64Array","Date","now","isZero","equals","a","b","abs","checkEqualLength","v1","v2","Vec","_NumericArray","call","_possibleConstructorReturn","m","Magnitude","src","x","y","z","w","s","set","h","r","round","g","hex","color","toString","toUpperCase","width","height","sqrt","Sub","isNaN","Mat3","rx","normalize","scale","ry","rz","m3","m7","m6","r0","row","r1","r2","c0","col","c1","c2","Dot","identity","zero","q","MakeIdentity","setRow","Mat4","inMatrix","fovy","aspect","nearPlane","farPlane","fovy2","tan","fovy2aspect","frustum","left","right","bottom","top","A","B","C","l","k","p_eye","p_center","p_up","Cross","m00","m10","m20","m30","m01","m11","m21","m31","m02","m12","m22","m32","m03","m13","m23","m33","TransformDirection","mult","MakeTranslation","alpha","MakeRotation","MakeScale","pos","r3","c3","vec","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","axis","cosAlpha","acosAlpha","sinAlpha","perspective","ortho","origin","target","up","lookAt","depth","mvMat","pMat","viewport","mvp","invert","vin","Vec4","multVector","GetScale","inverted","traspose","mat3","n","M","dir","direction","trx","assign","xyz","removeVideoElement","debug","playerParent","parentNode","removeChild","document","body","appendChild","style","display","Video360Canvas","_Canvas","_loadCanvas","_createSuper","player","videoContainer","config","_config$maxZoom","_config$minZoom","_config$speedX","_config$speedY","maxZoom","minZoom","speedX","speedY","downPosition","drag","_pitch","_yaw","element","addEventListener","evt","clientX","clientY","stopPropagation","currentZoom","deltaY","preventDefault","newPos","diff","_createClass","videoTexture","sphereData","sphere","_this2","_videoPlayer","overflow","crossOrigin","_webGLCanvas","init","draw","clientWidth","clientHeight","fov","aspectRatio","projection","MakePerspective","view","model","rotate","updateTexture","enablePositionArray","enableTexCoordArray","bindMatrix4","Mult","requestAnimationFrame","_x","Canvas","Video360CanvasPlugin","_CanvasPlugin","_super2","_get","_getPrototypeOf","prototype","stream","_stream$canvas","_this3","find","c","canvasType","CanvasPlugin","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","resolve","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","d","definition","defineProperty","enumerable","obj","prop","hasOwnProperty","Symbol","toStringTag","getWebGLPluginsContext","webglPlugins","plugin","enabled","allPlugins"],"sourceRoot":""}